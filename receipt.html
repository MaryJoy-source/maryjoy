<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Payment Page</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #000000;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      background: #F8EEDF;
      padding: 30px 40px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      width: 350px;
      text-align: center;
      position: absolute;   /* ensures it stays in the middle */
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    h2 {
      margin-bottom: 20px;
      color: #333;
    }
    button {
      margin: 10px;
      padding: 12px 20px;
      font-size: 14px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      color: white;
    }
    .cash { background: #4CAF50; }
    .card { background: #2196F3; }
    button:hover { opacity: 0.9; }
    .receipt p {
      font-size: 14px;
      margin: 8px 0;
      text-align: left;
    }
    .label { font-weight: bold; }
    ul {
      text-align: left;
      padding-left: 18px;
      margin: 5px 0 10px 0;
    }
  </style>
</head>
<body>
  <!-- Screen 1: Payment Options -->
  <div class="container" id="paymentScreen">
    <h2>Select Payment</h2>
    <button class="cash" onclick="showReceipt('Cash')">ðŸ’µCash</button>
    <button class="card" onclick="showReceipt('Card')">ðŸ’³Card</button>
  </div>

  <!-- Screen 2: Receipt -->
  <div class="container receipt" id="receiptScreen" style="display: none;">
    <h2>Payment Receipt</h2>
    <p><span class="label">Name:</span> <span id="customer"></span></p>
    <p><span class="label">Date & Time:</span> <span id="datetime"></span></p>
    <p><span class="label">Address:</span> <span id="address"></span></p>
    <p><span class="label">Contact No.:</span> <span id="contact"></span></p>
    <p><span class="label">Payment Method:</span> <span id="method"></span></p>
    
    <p><span class="label">Customer Order:</span></p>
    <ul id="orderList"></ul>

    <p><span class="label">Total Price:</span> â‚± <span id="total"></span></p>
  </div>

  <script>
    // Get parameters from URL (passed by QR code)
    const urlParams = new URLSearchParams(window.location.search);
    const customer = urlParams.get('customer') || 'N/A';
    const amount = urlParams.get('amount') || '0.00';
    const address = urlParams.get('address') || 'N/A';
    const contact = urlParams.get('contact') || 'N/A';
    const order = urlParams.get('order') || ''; // order items, comma separated
    const total = urlParams.get('total') || amount; // total price

    // Fill static receipt fields
    document.getElementById("customer").innerText = customer;
    document.getElementById("address").innerText = address;
    document.getElementById("contact").innerText = contact;
    document.getElementById("datetime").innerText = new Date().toLocaleString();
    document.getElementById("total").innerText = parseFloat(total).toFixed(2);

    // Fill order list
    if (order) {
      const items = order.split(",");
      const orderList = document.getElementById("orderList");
      items.forEach(item => {
        let li = document.createElement("li");
        li.innerText = item.trim();
        orderList.appendChild(li);
      });
    } else {
      document.getElementById("orderList").innerHTML = "<li>No items</li>";
    }

    // Function to switch to receipt screen
    function showReceipt(method) {
      document.getElementById("paymentScreen").style.display = "none";
      document.getElementById("receiptScreen").style.display = "block";
      document.getElementById("method").innerText = method;
    }
  </script>
</body>
</html>
